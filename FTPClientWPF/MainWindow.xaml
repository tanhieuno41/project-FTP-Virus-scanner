<Window x:Class="FTPClientWPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Secure FTP Client - Virus Scanning"
        Height="1050" Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#1E1E1E"
        Foreground="White"
        AllowsTransparency="False"
        WindowStyle="SingleBorderWindow"
        MinHeight="1050" MinWidth="1000"
        Icon="Assets/ftp_upload_virus_scan_icon.ico"
        MouseLeftButtonDown="Window_MouseLeftButtonDown" ResizeMode="CanMinimize">


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Main Content -->
        <Grid Grid.Row="0" Margin="12,12,10,12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="200"/>
            </Grid.RowDefinitions>

            <!-- Connection Panel -->
            <Border Grid.Row="0" 
                    Background="#252526" 
                    BorderBrush="#3F3F46" 
                    BorderThickness="1" 
                    CornerRadius="4" 
                    Padding="16" 
                    Margin="0,0,0,12">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Server Address -->
                    <TextBlock Grid.Row="0" Grid.Column="0" 
                               Text="Server:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="0,0,8,0"/>
                    <TextBox x:Name="txtServer" 
                             Grid.Row="0" Grid.Column="1" 
                             Background="#252526"
                             Foreground="White"
                             BorderBrush="#3F3F46"
                             BorderThickness="1"
                             Padding="8,6"
                             Text="localhost"
                             Margin="0,0,16,0"/>

                    <!-- Port -->
                    <TextBlock Grid.Row="0" Grid.Column="2" 
                               Text="Port:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="0,0,8,0"/>
                    <TextBox x:Name="txtPort" 
                             Grid.Row="0" Grid.Column="3" 
                             Background="#252526"
                             Foreground="White"
                             BorderBrush="#3F3F46"
                             BorderThickness="1"
                             Padding="8,6"
                             Text="21"/>

                    <!-- Username -->
                    <TextBlock Grid.Row="1" Grid.Column="0" 
                               Text="Username:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="0,8,8,0"/>
                    <TextBox x:Name="txtUsername" 
                             Grid.Row="1" Grid.Column="1" 
                             Background="#252526"
                             Foreground="White"
                             BorderBrush="#3F3F46"
                             BorderThickness="1"
                             Padding="8,6"
                             Text="testuser"
                             Margin="0,8,16,0"/>

                    <!-- Password -->
                    <TextBlock Grid.Row="1" Grid.Column="2" 
                               Text="Password:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="0,8,8,0"/>
                    <PasswordBox x:Name="txtPassword" 
                                 Grid.Row="1" Grid.Column="3" 
                                 Background="#252526"
                                 Foreground="White"
                                 BorderBrush="#3F3F46"
                                 BorderThickness="1"
                                 Padding="8,6"
                                 Password="testpass"
                                 Margin="0,8,0,0"/>

                    <!-- Connect Buttons -->
                    <Button x:Name="btnConnect" 
                            Content="Connect" 
                            Grid.Row="2" 
                            Grid.Column="0" 
                            Grid.ColumnSpan="2"
                            Background="#007ACC"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="16,8"
                            FontSize="14"
                            FontWeight="Medium"
                            Click="btnConnect_Click"
                            Margin="0,12,8,0"/>

                    <Button x:Name="btnSecureConnect" 
                            Content="Secure Connect" 
                            Grid.Row="2" 
                            Grid.Column="2" 
                            Grid.ColumnSpan="2"
                            Background="#007ACC"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="16,8"
                            FontSize="14"
                            FontWeight="Medium"
                            Click="btnSecureConnect_Click"
                            Margin="8,12,0,0"/>

                    <Button x:Name="btnDisconnect" 
                            Content="Disconnect" 
                            Grid.Row="3" 
                            Grid.Column="0" 
                            Grid.ColumnSpan="4"
                            Background="#007ACC"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="16,8"
                            FontSize="14"
                            FontWeight="Medium"
                            Click="btnDisconnect_Click"
                            Margin="0,8,0,0"/>
                </Grid>
            </Border>

            <!-- Virus Scanning Status Panel -->
            <Border Grid.Row="1" 
                    Background="#252526" 
                    BorderBrush="#3F3F46" 
                    BorderThickness="1" 
                    CornerRadius="4" 
                    Padding="16" 
                    Margin="0,0,0,12">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- ClamAV Status -->
                    <TextBlock Grid.Row="0" Grid.Column="0" 
                               Text="ClamAV Agent:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               FontWeight="Medium"
                               Margin="0,0,8,0"/>

                    <TextBlock x:Name="txtClamAVStatus" 
                               Grid.Row="0" Grid.Column="1" 
                               Text="Disconnected" 
                               Foreground="#FF6B6B"
                               VerticalAlignment="Center"
                               FontWeight="Medium"/>

                    <Button x:Name="btnTestClamAV" 
                            Content="Enable" 
                            Grid.Row="0" Grid.Column="2"
                            Background="#28A745"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="12,6"
                            FontSize="12"
                            FontWeight="Medium"
                            Click="btnTestClamAV_Click"
                            Margin="8,0,0,0"/>

                    <!-- ClamAV Host -->
                    <TextBlock Grid.Row="1" Grid.Column="0" 
                               Text="ClamAV Host:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               FontWeight="Medium"
                               Margin="0,8,8,0"/>
                    <TextBox x:Name="txtClamAVHost" 
                             Grid.Row="1" Grid.Column="1" 
                             Background="#252526"
                             Foreground="White"
                             BorderBrush="#3F3F46"
                             BorderThickness="1"
                             Padding="8,6"
                             Text="localhost"
                             Margin="0,8,0,0"/>

                    <!-- ClamAV Port -->
                    <TextBlock Grid.Row="1" Grid.Column="2" 
                               Text="Port:" 
                               Foreground="White"
                               VerticalAlignment="Top"
                               FontWeight="Medium"
                               Margin="8,15,0,0"/>
                    <TextBox x:Name="txtClamAVPort" 
                             Grid.Row="1" Grid.Column="3" 
                             Background="#252526"
                             Foreground="White"
                             BorderBrush="#3F3F46"
                             BorderThickness="1"
                             Padding="8,6"
                             Text="9999"
                             Margin="0,8,0,0"/>

                    <!-- Virus Scanning Info -->
                    <TextBlock Grid.Row="2" Grid.Column="0" 
                               Text="Virus Scanning:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               FontWeight="Medium"
                               Margin="0,8,8,0"/>

                    <TextBlock x:Name="txtScanInfo" 
                               Grid.Row="2" Grid.Column="1" 
                               Text="All uploads will be scanned for viruses" 
                               Foreground="#CCCCCC"
                               VerticalAlignment="Center"
                               Margin="0,8,0,0"/>

                    <Button x:Name="btnUploadFile" 
                            Content="Upload File" 
                            Grid.Row="2" Grid.Column="2"
                            Background="#007ACC"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="12,6"
                            FontSize="12"
                            FontWeight="Medium"
                            Click="btnUploadFile_Click"
                            Margin="8,8,0,0"/>

                    <!-- FTP Commands -->
                    <TextBlock Grid.Row="3" Grid.Column="0" 
                               Text="FTP Commands:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               FontWeight="Medium"
                               Margin="0,8,8,0"/>

                    <StackPanel Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="3" 
                                Orientation="Horizontal" 
                                Margin="0,8,0,0">

                        <Button x:Name="btnList" 
                                Content="LS" 
                                Background="#007ACC"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="8,4"
                                FontSize="11"
                                FontWeight="Medium"
                                Click="btnList_Click"
                                Margin="0,0,4,0"/>

                        <Button x:Name="btnPwd" 
                                Content="PWD" 
                                Background="#007ACC"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="8,4"
                                FontSize="11"
                                FontWeight="Medium"
                                Click="btnPwd_Click"
                                Margin="0,0,4,0"/>

                        <Button x:Name="btnMkdir" 
                                Content="MKDIR" 
                                Background="#007ACC"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="8,4"
                                FontSize="11"
                                FontWeight="Medium"
                                Click="btnMkdir_Click"
                                Margin="0,0,4,0"/>

                        <Button x:Name="btnRmdir" 
                                Content="RMDIR" 
                                Background="#007ACC"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="8,4"
                                FontSize="11"
                                FontWeight="Medium"
                                Click="btnRmdir_Click"
                                Margin="0,0,4,0"/>

                        <Button x:Name="btnDelete" 
                                Content="DELETE" 
                                Background="#DC3545"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="8,4"
                                FontSize="11"
                                FontWeight="Medium"
                                Click="btnDelete_Click"
                                Margin="0,0,4,0"/>

                        <Button x:Name="btnRename" 
                                Content="RENAME" 
                                Background="#007ACC"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="8,4"
                                FontSize="11"
                                FontWeight="Medium"
                                Click="btnRename_Click"
                                Margin="0,0,4,0"/>

                        <Button x:Name="btnGet" 
                                Content="GET" 
                                Background="#28A745"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="8,4"
                                FontSize="11"
                                FontWeight="Medium"
                                Click="btnGet_Click"
                                Margin="0,0,4,0"/>

                        <Button x:Name="btnMget" 
                                Content="MGET" 
                                Background="#28A745"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="8,4"
                                FontSize="11"
                                FontWeight="Medium"
                                Click="btnMget_Click"
                                Margin="0,0,4,0"/>

                        <Button x:Name="btnMput" 
                                Content="MPUT" 
                                Background="#007ACC"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="8,4"
                                FontSize="11"
                                FontWeight="Medium"
                                Click="btnMput_Click"
                                Margin="0,0,4,0"/>
                        <Button x:Name="btnPrompt" 
                            Content="PROMPT" 
                            Background="#007ACC"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="8,4"
                            FontSize="11"
                            FontWeight="Medium"
                            Click="btnPrompt_Click"
                                />
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Session Management Panel -->
            <Border Grid.Row="2" 
                    Background="#252526" 
                    BorderBrush="#3F3F46" 
                    BorderThickness="1" 
                    CornerRadius="4" 
                    Padding="16" 
                    Margin="0,0,0,12">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Transfer Mode -->
                    <TextBlock Grid.Row="0" Grid.Column="0" 
                               Text="Transfer Mode:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               FontWeight="Medium"
                               Margin="0,0,8,0"/>

                    <StackPanel Grid.Row="0" Grid.Column="1" 
                                Orientation="Horizontal" 
                                VerticalAlignment="Center">

                        <RadioButton x:Name="rbBinary" 
                                     Content="Binary" 
                                     IsChecked="True"
                                     Foreground="White"
                                     Margin="0,0,16,0"
                                     Checked="rbBinary_Checked"/>

                        <RadioButton x:Name="rbAscii" 
                                     Content="ASCII" 
                                     Foreground="White"
                                     Checked="rbAscii_Checked"/>
                    </StackPanel>

                    <Button x:Name="btnPassive" 
                            Content="Passive Mode" 
                            Grid.Row="0" Grid.Column="2"
                            Background="#6C757D"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="12,6"
                            FontSize="12"
                            FontWeight="Medium"
                            Click="btnPassive_Click"
                            Margin="8,0,0,0"/>

                    <!-- Session Status -->
                    <TextBlock Grid.Row="1" Grid.Column="0" 
                               Text="Session Status:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               FontWeight="Medium"
                               Margin="0,8,8,0"/>

                    <TextBlock x:Name="txtSessionStatus" 
                               Grid.Row="1" Grid.Column="1" 
                               Text="Not connected" 
                               Foreground="#CCCCCC"
                               VerticalAlignment="Center"
                               Margin="0,8,0,0"/>

                    <Button x:Name="btnStatus" 
                            Content="Show Status" 
                            Grid.Row="1" Grid.Column="2"
                            Background="#17A2B8"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="12,6"
                            FontSize="12"
                            FontWeight="Medium"
                            Click="btnStatus_Click"
                            Margin="8,8,0,0"/>

                    <!-- Current Directory -->
                    <TextBlock Grid.Row="2" Grid.Column="0" 
                               Text="Current Dir:" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               FontWeight="Medium"
                               Margin="0,8,8,0"/>

                    <TextBox x:Name="txtCurrentDir" 
                             Grid.Row="2" Grid.Column="1" 
                             Background="#252526"
                             Foreground="White"
                             BorderBrush="#3F3F46"
                             BorderThickness="1"
                             Padding="8,6"
                             Text="/"
                             IsReadOnly="True"
                             Margin="0,8,0,0"/>

                    <Button x:Name="btnChangeDir" 
                            Content="Change Dir" 
                            Grid.Row="2" Grid.Column="2"
                            Background="#17A2B8"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="12,6"
                            FontSize="12"
                            FontWeight="Medium"
                            Click="btnChangeDir_Click"
                            Margin="8,5,0,3"/>
                </Grid>
            </Border>

            <!-- File Browser Panel -->
            <Grid Grid.Row="3" Margin="0,0,0,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="300"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="300"/>
                </Grid.ColumnDefinitions>

                <!-- Local Files Panel -->
                <Border Grid.Column="0" 
                        Background="#252526" 
                        BorderBrush="#3F3F46" 
                        BorderThickness="1" 
                        CornerRadius="4" 
                        Margin="0,0,6,0">

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" 
                                   Text="Local Files" 
                                   Foreground="White"
                                   FontWeight="Medium"
                                   Padding="12,8"/>

                        <!-- Local Path Navigation -->
                        <Grid Grid.Row="1" Margin="8,0,8,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBox x:Name="txtLocalPath" 
                                     Grid.Column="0"
                                     Background="#252526"
                                     Foreground="White"
                                     BorderBrush="#3F3F46"
                                     BorderThickness="1"
                                     Padding="6,4"
                                     Text="C:\"
                                     Margin="0,0,4,0"/>

                            <Button x:Name="btnBrowseLocal" 
                                    Grid.Column="1"
                                    Content="Browse" 
                                    Background="#007ACC"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="8,4"
                                    FontSize="11"
                                    FontWeight="Medium"
                                    Click="btnBrowseLocal_Click"/>
                        </Grid>

                        <TreeView x:Name="LocalTreeView" 
                                  Grid.Row="2" 
                                  Background="#252526"
                                  Foreground="White"
                                  BorderBrush="#3F3F46"
                                  BorderThickness="1"
                                  Margin="8,0,8,8"
                                  AllowDrop="True"
                                  Drop="LocalTreeView_Drop"
                                  DragOver="LocalTreeView_DragOver">
                        </TreeView>
                    </Grid>
                </Border>

                <!-- Server Files Panel -->
                <Border Grid.Column="1" 
                        Background="#252526" 
                        BorderBrush="#3F3F46" 
                        BorderThickness="1" 
                        CornerRadius="4" 
                        Margin="6,0,6,0">

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" 
                                   Text="Server Files" 
                                   Foreground="White"
                                   FontWeight="Medium"
                                   Padding="12,8"/>

                        <!-- Server Path Navigation -->
                        <Grid Grid.Row="1" Margin="8,0,8,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBox x:Name="txtServerPath" 
                                     Grid.Column="0"
                                     Background="#252526"
                                     Foreground="White"
                                     BorderBrush="#3F3F46"
                                     BorderThickness="1"
                                     Padding="6,4"
                                     Text="/"
                                     IsReadOnly="True"
                                     Margin="0,0,4,0"/>

                            <Button x:Name="btnRefreshServer" 
                                    Grid.Column="1"
                                    Content="Refresh" 
                                    Background="#28A745"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="8,4"
                                    FontSize="11"
                                    FontWeight="Medium"
                                    Click="btnRefreshServer_Click"/>
                        </Grid>

                        <DataGrid x:Name="ServerFilesGrid" 
                                  Grid.Row="2" 
                                  Background="#252526"
                                  BorderBrush="#3F3F46"
                                  BorderThickness="1"
                                  GridLinesVisibility="Horizontal"
                                  HorizontalGridLinesBrush="#252526"
                                  RowBackground="#FF83BCDA"
                                  AlternatingRowBackground="#252526"
                                  HeadersVisibility="Column"
                                  CanUserAddRows="False"
                                  CanUserDeleteRows="False"
                                  IsReadOnly="True"
                                  SelectionMode="Extended"
                                  SelectionUnit="FullRow"
                                  Margin="8,0,8,8"
                                  MouseDoubleClick="ServerFilesGrid_MouseDoubleClick"
                                  ContextMenuOpening="ServerFilesGrid_ContextMenuOpening" AutoGenerateColumns="False" CellStyle="{Binding Background, ElementName=ServerFilesGrid}" FontFamily="Arial" Foreground="#FFC74B4B">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Name" 
                                                    Binding="{Binding FileName}" 
                                                    Width="*"/>
                                <DataGridTextColumn Header="Size" 
                                                    Binding="{Binding FileSize}" 
                                                    Width="80"/>
                                <DataGridTextColumn Header="Type" 
                                                    Binding="{Binding FileType}" 
                                                    Width="80"/>
                                <DataGridTextColumn Header="Modified" 
                                                    Binding="{Binding ModifiedDate}" 
                                                    Width="100"/>
                            </DataGrid.Columns>

                            <DataGrid.ContextMenu>
                                <ContextMenu Background="#252526" Foreground="White">
                                    <MenuItem Header="Download" Click="ContextMenu_Download_Click"/>
                                    <MenuItem Header="Upload" Click="ContextMenu_Upload_Click"/>
                                    <Separator/>
                                    <MenuItem Header="Rename" Click="ContextMenu_Rename_Click"/>
                                    <MenuItem Header="Delete" Click="ContextMenu_Delete_Click"/>
                                    <Separator/>
                                    <MenuItem Header="Properties" Click="ContextMenu_Properties_Click"/>
                                </ContextMenu>
                            </DataGrid.ContextMenu>
                        </DataGrid>
                    </Grid>
                </Border>

                <!-- Upload Queue Panel -->
                <Border Grid.Column="2" 
                        Background="#252526" 
                        BorderBrush="#3F3F46" 
                        BorderThickness="1" 
                        CornerRadius="4" 
                        Margin="6,0,0,0">

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" 
                                   Text="Upload Queue" 
                                   Foreground="White"
                                   FontWeight="Medium"
                                   Padding="12,8"/>

                        <ListBox x:Name="UploadQueueList" 
                                 Grid.Row="1" 
                                 Background="#252526"
                                 Foreground="White"
                                 BorderBrush="#3F3F46"
                                 BorderThickness="1"
                                 Margin="8,0,8,8">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Grid Margin="4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <TextBlock Grid.Row="0" 
                                                   Text="{Binding FileName}" 
                                                   Foreground="White"
                                                   FontWeight="Medium"/>

                                        <ProgressBar Grid.Row="1" 
                                                     Height="4" 
                                                     Value="{Binding Progress}" 
                                                     Maximum="100"
                                                     Background="#3F3F46"
                                                     Foreground="#007ACC"
                                                     Margin="0,2,0,0"/>
                                    </Grid>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>

                        <StackPanel Grid.Row="2" 
                                    Orientation="Horizontal" 
                                    Margin="8,0,8,8">
                            <Button x:Name="btnStartUpload" 
                                    Content="Start Upload" 
                                    Background="#28A745"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="8,4"
                                    FontSize="11"
                                    FontWeight="Medium"
                                    Click="btnStartUpload_Click"
                                    Margin="0,0,4,0"/>

                            <Button x:Name="btnClearQueue" 
                                    Content="Clear Queue" 
                                    Background="#DC3545"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="8,4"
                                    FontSize="11"
                                    FontWeight="Medium"
                                    Click="btnClearQueue_Click"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>

            <!-- Progress Panel -->
            <Border Grid.Row="4" 
                    Background="#252526" 
                    BorderBrush="#3F3F46" 
                    BorderThickness="1" 
                    CornerRadius="4" 
                    Padding="16" 
                    Margin="0,0,0,12">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Overall Progress -->
                    <TextBlock Grid.Row="0" 
                               Text="Transfer Progress" 
                               Foreground="White"
                               FontWeight="Medium"
                               Margin="0,0,0,8"/>

                    <ProgressBar x:Name="OverallProgressBar" 
                                 Grid.Row="1" 
                                 Height="20" 
                                 Background="#3F3F46"
                                 Foreground="#007ACC"
                                 Margin="0,0,0,8" ValueChanged="OverallProgressBar_ValueChanged"/>

                    <TextBlock x:Name="txtProgressStatus" 
                               Grid.Row="2" 
                               Text="Ready" 
                               Foreground="#CCCCCC"
                               FontSize="12"/>
                </Grid>
            </Border>

            <!-- Log Panel -->
            <Border Grid.Row="5" 
                    Background="#252526" 
                    BorderBrush="#3F3F46" 
                    BorderThickness="1" 
                    CornerRadius="4">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" 
                               Text="Connection Log" 
                               Foreground="White"
                               FontWeight="Medium"
                               Padding="12,8"/>

                    <ScrollViewer Grid.Row="1" 
                                  VerticalScrollBarVisibility="Auto" 
                                  HorizontalScrollBarVisibility="Auto"
                                  Margin="8,0,8,8">
                        <TextBox x:Name="txtLog" 
                                 Background="Transparent"
                                 Foreground="#CCCCCC"
                                 FontFamily="Consolas"
                                 FontSize="12"
                                 IsReadOnly="True"
                                 BorderThickness="0"
                                 Text="Welcome to Secure FTP Client with Virus Scanning&#x0a;Ready to connect...&#x0a;"/>
                    </ScrollViewer>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>
